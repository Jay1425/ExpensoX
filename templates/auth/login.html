<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>Sign in to ExpensoX</title>
	<script src="https://cdn.tailwindcss.com"></script>
	<link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}" />
	<style>
		@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
		
		* {
			font-family: 'Poppins', sans-serif;
		}
		
		body {
			background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 25%, #16213e 50%, #0f3460 75%, #1e3c72 100%);
			background-size: 400% 400%;
			animation: gradientShift 15s ease infinite;
			overflow-x: hidden;
		}
		
		@keyframes gradientShift {
			0% { background-position: 0% 50%; }
			50% { background-position: 100% 50%; }
			100% { background-position: 0% 50%; }
		}
		
		.floating-shapes {
			position: fixed;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			pointer-events: none;
			z-index: 1;
		}
		
		.shape {
			position: absolute;
			background: linear-gradient(45deg, rgba(34, 211, 238, 0.1), rgba(147, 51, 234, 0.1));
			border-radius: 50%;
			animation: float 20s infinite linear;
		}
		
		.shape:nth-child(1) {
			width: 60px;
			height: 60px;
			top: 15%;
			left: 15%;
			animation-delay: 0s;
		}
		
		.shape:nth-child(2) {
			width: 90px;
			height: 90px;
			top: 70%;
			left: 75%;
			animation-delay: 7s;
		}
		
		.shape:nth-child(3) {
			width: 45px;
			height: 45px;
			top: 85%;
			left: 25%;
			animation-delay: 14s;
		}
		
		.shape:nth-child(4) {
			width: 75px;
			height: 75px;
			top: 25%;
			left: 80%;
			animation-delay: 3s;
		}
		
		.shape:nth-child(5) {
			width: 55px;
			height: 55px;
			top: 50%;
			left: 5%;
			animation-delay: 10s;
		}
		
		@keyframes float {
			0% { transform: translateY(0px) rotate(0deg); }
			25% { transform: translateY(-15px) rotate(90deg); }
			50% { transform: translateY(0px) rotate(180deg); }
			75% { transform: translateY(15px) rotate(270deg); }
			100% { transform: translateY(0px) rotate(360deg); }
		}
		
		.card-3d {
			background: rgba(15, 23, 42, 0.9);
			backdrop-filter: blur(20px);
			border: 1px solid rgba(34, 211, 238, 0.3);
			box-shadow: 
				0 8px 32px rgba(0, 0, 0, 0.3),
				0 0 0 1px rgba(34, 211, 238, 0.1),
				inset 0 1px 0 rgba(255, 255, 255, 0.1);
			transform-style: preserve-3d;
			transition: all 0.3s ease;
		}
		
		.card-3d:hover {
			transform: translateY(-5px) rotateX(5deg) rotateY(5deg);
			box-shadow: 
				0 20px 60px rgba(34, 211, 238, 0.2),
				0 0 0 1px rgba(34, 211, 238, 0.3),
				inset 0 1px 0 rgba(255, 255, 255, 0.2);
		}
		
		.input-3d {
			background: rgba(2, 6, 23, 0.8);
			border: 1px solid rgba(71, 85, 105, 0.5);
			box-shadow: 
				inset 0 2px 4px rgba(0, 0, 0, 0.3),
				0 1px 0 rgba(255, 255, 255, 0.1);
			transition: all 0.3s ease;
			transform-style: preserve-3d;
		}
		
		.input-3d:focus {
			background: rgba(15, 23, 42, 0.9);
			border-color: rgba(34, 211, 238, 0.6);
			box-shadow: 
				0 0 0 3px rgba(34, 211, 238, 0.1),
				inset 0 2px 4px rgba(0, 0, 0, 0.2),
				0 4px 12px rgba(34, 211, 238, 0.3);
			transform: translateZ(2px);
		}
		
		.btn-3d {
			background: linear-gradient(135deg, #22d3ee 0%, #06b6d4 50%, #0891b2 100%);
			box-shadow: 
				0 4px 15px rgba(34, 211, 238, 0.4),
				inset 0 1px 0 rgba(255, 255, 255, 0.2);
			transform-style: preserve-3d;
			transition: all 0.3s ease;
			position: relative;
			overflow: hidden;
		}
		
		.btn-3d::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
			transition: left 0.5s;
		}
		
		.btn-3d:hover::before {
			left: 100%;
		}
		
		.btn-3d:hover {
			transform: translateY(-2px) scale(1.02);
			box-shadow: 
				0 8px 25px rgba(34, 211, 238, 0.5),
				inset 0 1px 0 rgba(255, 255, 255, 0.3);
		}
		
		.btn-3d:active {
			transform: translateY(0px) scale(0.98);
		}
		
		.fade-in {
			animation: fadeInUp 0.8s ease-out forwards;
			opacity: 0;
		}
		
		.fade-in:nth-child(1) { animation-delay: 0.1s; }
		.fade-in:nth-child(2) { animation-delay: 0.2s; }
		.fade-in:nth-child(3) { animation-delay: 0.3s; }
		.fade-in:nth-child(4) { animation-delay: 0.4s; }
		
		@keyframes fadeInUp {
			from {
				opacity: 0;
				transform: translateY(30px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}
		
		.glow-text {
			text-shadow: 0 0 20px rgba(34, 211, 238, 0.5);
		}
		
		.label-3d {
			position: relative;
			display: inline-block;
			font-weight: 500;
			color: #cbd5e1;
			margin-bottom: 6px;
		}
		
		.label-3d::after {
			content: '';
			position: absolute;
			bottom: -2px;
			left: 0;
			width: 0;
			height: 2px;
			background: linear-gradient(90deg, #22d3ee, #06b6d4);
			transition: width 0.3s ease;
		}
		
		.input-group:focus-within .label-3d::after {
			width: 100%;
		}
		
		.message-3d {
			background: rgba(15, 23, 42, 0.9);
			backdrop-filter: blur(20px);
			border-radius: 12px;
			box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
			animation: slideInDown 0.5s ease-out;
		}
		
		@keyframes slideInDown {
			from {
				opacity: 0;
				transform: translateY(-20px);
			}
			to {
				opacity: 1;
				transform: translateY(0);
			}
		}
		
		.welcome-container {
			position: relative;
			text-align: center;
			margin-bottom: 2rem;
		}
		
		.welcome-icon {
			width: 80px;
			height: 80px;
			margin: 0 auto 1rem;
			background: linear-gradient(135deg, rgba(34, 211, 238, 0.2), rgba(147, 51, 234, 0.2));
			border-radius: 50%;
			display: flex;
			align-items: center;
			justify-content: center;
			border: 2px solid rgba(34, 211, 238, 0.3);
			animation: pulse 2s infinite;
		}
		
		@keyframes pulse {
			0% { box-shadow: 0 0 0 0 rgba(34, 211, 238, 0.4); }
			70% { box-shadow: 0 0 0 10px rgba(34, 211, 238, 0); }
			100% { box-shadow: 0 0 0 0 rgba(34, 211, 238, 0); }
		}
		
		.forgot-link {
			color: #22d3ee;
			text-decoration: none;
			position: relative;
			font-weight: 600;
			transition: all 0.3s ease;
		}
		
		.forgot-link::after {
			content: '';
			position: absolute;
			bottom: -2px;
			left: 0;
			width: 0;
			height: 1px;
			background: linear-gradient(90deg, #22d3ee, #06b6d4);
			transition: width 0.3s ease;
		}
		
		.forgot-link:hover::after {
			width: 100%;
		}
		
		.forgot-link:hover {
			color: #67e8f9;
			transform: translateY(-1px);
		}
	</style>
</head>
<body class="text-slate-100 min-h-screen relative">
	<div class="floating-shapes">
		<div class="shape"></div>
		<div class="shape"></div>
		<div class="shape"></div>
		<div class="shape"></div>
		<div class="shape"></div>
	</div>
	
	<div class="flex min-h-screen items-center justify-center px-6 py-16 relative z-10">
		<div class="w-full max-w-md space-y-8">
			<div class="welcome-container fade-in">
				<div class="welcome-icon">
					<svg class="w-8 h-8 text-cyan-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
						<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
					</svg>
				</div>
				<h1 class="text-5xl font-bold tracking-tight glow-text bg-gradient-to-r from-cyan-400 via-blue-400 to-purple-400 bg-clip-text text-transparent">
					Welcome back
				</h1>
				<p class="mt-3 text-base text-slate-300 leading-relaxed">
					Sign in with your email and password to access the expense dashboard.
				</p>
			</div>

			{% with messages = get_flashed_messages(with_categories=True) %}
				{% if messages %}
					<div class="space-y-3 fade-in">
						{% for category, message in messages %}
							<div class="message-3d border px-6 py-4 text-sm {{ 'border-cyan-500/50 text-cyan-200 bg-cyan-500/10' if category == 'success' else '' }} {{ 'border-amber-500/50 text-amber-200 bg-amber-500/10' if category == 'warning' else '' }} {{ 'border-rose-500/50 text-rose-200 bg-rose-500/10' if category == 'error' else '' }}">
								{{ message }}
							</div>
						{% endfor %}
					</div>
				{% endif %}
			{% endwith %}

			<form method="POST" class="space-y-6 card-3d rounded-3xl p-10 fade-in">
				{{ form.hidden_tag() }}
				<div class="input-group">
					<label class="label-3d block text-sm">Email address</label>
					{{ form.email(class_='input-3d mt-2 w-full rounded-xl px-4 py-4 text-sm outline-none transition', placeholder='you@expensox.com') }}
					{% for error in form.email.errors %}
						<p class="mt-2 text-xs text-rose-400 animate-pulse">{{ error }}</p>
					{% endfor %}
				</div>
				<div class="input-group">
					<label class="label-3d block text-sm">Password</label>
					{{ form.password(class_='input-3d mt-2 w-full rounded-xl px-4 py-4 text-sm outline-none transition', placeholder='••••••••') }}
					{% for error in form.password.errors %}
						<p class="mt-2 text-xs text-rose-400 animate-pulse">{{ error }}</p>
					{% endfor %}
				</div>
				<div class="flex items-center justify-between">
					<a href="{{ url_for('auth.forgot_password') }}" class="forgot-link text-xs">Forgot password?</a>
				</div>
				<button type="submit" class="btn-3d w-full rounded-xl px-6 py-4 text-sm font-semibold text-slate-900 relative">
					<span class="relative z-10">Sign in</span>
				</button>
			</form>

			<p class="text-center text-base text-slate-400 fade-in">
				Need an account? 
				<a class="font-semibold text-cyan-300 hover:text-cyan-200 transition-colors duration-300 relative group" href="{{ url_for('auth.signup') }}">
					Create one
					<span class="absolute bottom-0 left-0 w-0 h-0.5 bg-cyan-400 transition-all duration-300 group-hover:w-full"></span>
				</a>
			</p>
		</div>
	</div>
</body>
</html>